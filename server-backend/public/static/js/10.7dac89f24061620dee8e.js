webpackJsonp([10],{"1qip":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("JAv/"),s=n("dOa3"),o={name:"HelloWorld",data:function(){return{nodes:[],nodes_rich:[],node_hover:{identity:"",properties:{uid:"",hostname:"",ips:[]}},link:[],link_rich:[],deepth:2,mainUid:0,mainNode:void 0,myGraph:{},graph:{},pointTextOptions:[{value:"hostname",label:"hostname"},{value:"ips",label:"ip"},{value:"tags",label:"Tags"}],pointText:"hostname",pointTextDefault:"hostname"}},methods:{getLinks:function(t){var e=this,n=this;Object(s.c)({uids:t}).then(function(t){for(var i=t.data.links,s=[],o=[],a=0;a<i.length;a++){var r=i[a];o.push(r),s.push({source:r.source,target:r.target,value:r.value,color:"#ffffff"})}n.links=s,n.links_rich=o,n.initGraphByD3(e.nodes_rich,e.links)}).catch(function(t){e.fetchSuccess=!1,console.log(t)})},initGraphByD3:function(t,e){var n=this;document.getElementById("nodes-graph").innerHTML='<svg id="link-svg" />';var i=d3.select("#nodes-graph"),s=0;createV4SelectableForceDirectedGraph(i,{nodes:t,links:e},function(t){t.count>=s+300&&(s=t.count,n.graph=t,n.isClusterReady=!0),console.log(t.nodes[0].x)})},getNodesByUids:function(t){var e=this,n=this;Object(i.c)({uids:t}).then(function(t){for(var e=t.data.nodes,i=[],s=[],o=[],a=0;a<e.length;a++){var r=e[a];r.id=r.identity,r.group=1,r.name=r.properties[n.pointText],o.push(r),i.push(r.properties.uid),s.push({id:r.identity,group:1,color:"#CCFFFF"})}n.nodes=s,n.nodes_rich=o,n.mainNode=n.search_node_rich_by_uid(n.mainUid),n.getLinks(i)}).catch(function(t){e.fetchSuccess=!1,console.log(t)})},search_node_rich_by_uid:function(t){for(var e=0;e<this.nodes_rich.length;e++){var n=this.nodes_rich[e];if(n.properties.uid===t)return n}return!1},search_node_rich:function(t){for(var e=0;e<this.nodes_rich.length;e++){var n=this.nodes_rich[e];if(n.identity===t)return n}return!1},getNodesByIdNDeepth:function(t,e){var n=this,s=this;s.isClusterReady=!1;var o=[t];Object(i.b)({identity:t,deepth:e}).then(function(t){console.log(t);for(var e=t.data,n=0;n<e.nodes.length;n++){var i=e.nodes[n];o.push(i.properties.uid)}s.getNodesByUids(o)}).catch(function(t){n.fetchSuccess=!1,console.log(t)})},handleChange:function(t){this.getNodesByIdNDeepth(this.mainUid,t)},pointChange:function(){this.getNodesByIdNDeepth(this.mainUid,this.deepth)}},mounted:function(){var t=this.$route.params;this.mainUid=t.identity,this.getNodesByIdNDeepth(this.mainUid,this.deepth)},created:function(){}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart-container"},[n("el-row",{staticStyle:{height:"100%"}},[n("el-col",{attrs:{md:6,sm:24}},[void 0!=t.mainNode?n("div",{staticClass:"box-card"},[n("h3",[t._v(t._s(t.$t("link.CentralNode")))]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\r\n          "+t._s(t.$t("host.hostname"))+": "+t._s(t.mainNode.properties.hostname)+"\r\n        ")]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\r\n          "+t._s(t.$t("host.ips"))+": "+t._s(t.mainNode.properties.ips)+"\r\n        ")]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\r\n          "+t._s(t.$t("host.tag"))+": "+t._s(t.mainNode.properties.tags)+"\r\n        ")])]):t._e(),t._v(" "),""!=t.node_hover.identity?n("div",{staticClass:"box-card"},[n("div",{staticClass:"text item"},[n("h3",[t._v(t._s(t.$t("link.SelectedNode"))+" ")])]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\r\n          "+t._s(t.$t("host.hostname"))+": "+t._s(t.node_hover.properties.hostname)+"\r\n        ")]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\r\n          "+t._s(t.$t("host.ips"))+": "+t._s(t.node_hover.properties.ips)+"\r\n        ")]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\r\n          "+t._s(t.$t("host.tag"))+": "+t._s(t.node_hover.properties.tags)+"\r\n        ")])]):t._e(),t._v(" "),n("div",{staticClass:"box-card"},[n("el-form",{attrs:{"label-width":"90px"}},[n("el-form-item",{attrs:{label:t.$t("link.deepth")}},[n("el-input-number",{staticStyle:{width:"120px"},attrs:{min:1,max:10},on:{change:t.handleChange},model:{value:t.deepth,callback:function(e){t.deepth=e},expression:"deepth"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("link.TextonNode")}},[n("el-select",{attrs:{placeholder:"choose"},on:{change:t.pointChange},model:{value:t.pointText,callback:function(e){t.pointText=e},expression:"pointText"}},t._l(t.pointTextOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1)]),t._v(" "),n("el-col",{staticStyle:{height:"100%"},attrs:{md:18,sm:24}},[n("div",{attrs:{id:"nodes-graph"}})])],1)],1)},staticRenderFns:[]};var r=n("VU/8")(o,a,!1,function(t){n("cFu6")},"data-v-db4bf544",null);e.default=r.exports},"6s4l":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.chart-container[data-v-db4bf544] {\r\n  position: relative;\r\n  padding: 6px;\r\n  width: 100%;\r\n  height: 100%;\n}\n#nodes-graph[data-v-db4bf544] {\r\n  width: 100%;\r\n  height: 100%;\n}\n.box-card[data-v-db4bf544]{\r\n  margin: 6px;\r\n  padding:12px 6px;\r\n  -webkit-box-shadow: 0px 0px 6px 1px rgba(200,200,200,0.5);\r\n          box-shadow: 0px 0px 6px 1px rgba(200,200,200,0.5)\n}\n#nodes-graph svg[data-v-db4bf544] {\r\n    border: 1px solid;\r\n    font: 6px sans-serif;\r\n    text-anchor: end;\n}\n#nodes-graph .node[data-v-db4bf544] {\r\n  stroke-width: 1px;\n}\n.node .selected[data-v-db4bf544] {\r\n  stroke: black;\n}\nline[data-v-db4bf544] {\r\n  stroke: #999;\n}\r\n\r\n\r\n",""])},cFu6:function(t,e,n){var i=n("6s4l");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("5260c13d",i,!0)}});